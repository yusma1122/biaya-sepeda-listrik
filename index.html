<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Biaya Sepeda Listrik</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Smooth image rendering untuk foto profile */
        .profile-photo {
            image-rendering: -webkit-optimize-contrast;
            image-rendering: -moz-crisp-edges;
            image-rendering: smooth;
            image-rendering: auto;
            filter: contrast(1.1) brightness(1.05) saturate(1.1);
            transition: all 0.3s ease;
        }
        
        .profile-photo:hover {
            filter: contrast(1.2) brightness(1.1) saturate(1.2);
            transform: scale(1.05);
        }
        
        /* Smooth transitions untuk semua elemen */
        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ebike': '#10b981',
                        'motor': '#ef4444',
                        'compare': '#3b82f6'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <!-- Main Title -->
            <div class="text-center mb-6">
                <h1 class="text-3xl font-bold text-gray-900">ğŸš´â€â™‚ï¸ Kalkulator Biaya Sepeda Listrik</h1>
                <p class="mt-2 text-gray-600">Analisis lengkap biaya operasional dan ROI untuk investasi e-bike Anda</p>
            </div>
            
            <!-- Developer Credit - Compact Header Version -->
            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200">
                <div class="flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0">
                    <!-- Developer Info -->
                    <div class="flex items-center space-x-4">
                        <img src="yusm4.jpeg" 
                             alt="Yusma Rahman" 
                             class="w-12 h-12 rounded-full border-2 border-blue-500 shadow-md object-cover flex-shrink-0 profile-photo"
                             loading="lazy">
                        <div class="text-center sm:text-left">
                            <h3 class="text-lg font-bold text-gray-900">Dibuat oleh Yusma Rahman</h3>
                            <p class="text-sm text-gray-600">Developer & Content Creator</p>
                        </div>
                    </div>
                    
                    <!-- Quick Links -->
                    <div class="flex items-center space-x-3">
                        <a href="https://www.instagram.com/yusmafrlnc/" 
                           target="_blank" 
                           class="flex items-center space-x-1 bg-gradient-to-r from-pink-500 to-purple-600 text-white px-3 py-1.5 rounded-lg hover:shadow-md transition-all duration-300 transform hover:scale-105 text-sm">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                            </svg>
                            <span class="hidden sm:inline">IG</span>
                        </a>
                        
                        <a href="https://www.linkedin.com/in/yusmarahman09" 
                           target="_blank" 
                           class="flex items-center space-x-1 bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:shadow-md transition-all duration-300 transform hover:scale-105 text-sm">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                            <span class="hidden sm:inline">LinkedIn</span>
                        </a>
                        
                        <a href="https://www.youtube.com/@yusmarahman2269" 
                           target="_blank" 
                           class="flex items-center space-x-1 bg-red-600 text-white px-3 py-1.5 rounded-lg hover:shadow-md transition-all duration-300 transform hover:scale-105 text-sm">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                            <span class="hidden sm:inline">YT</span>
                        </a>
                        
                        <!-- Expandable Info Button -->
                        <button onclick="toggleDeveloperInfo()" 
                                class="flex items-center space-x-1 bg-gray-600 text-white px-3 py-1.5 rounded-lg hover:shadow-md transition-all duration-300 transform hover:scale-105 text-sm">
                            <svg id="dev-info-icon" class="w-4 h-4 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span class="hidden sm:inline">Info</span>
                        </button>
                    </div>
                </div>
                
                <!-- Expandable Developer Details -->
                <div id="developer-details" class="hidden mt-4 pt-4 border-t border-blue-200">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <!-- Services -->
                        <div class="bg-white rounded-lg p-4 border border-blue-300">
                            <h4 class="font-semibold text-blue-800 mb-2 flex items-center">
                                <span class="mr-2">ğŸ’¼</span> Jasa Pembuatan Aplikasi
                            </h4>
                            <p class="text-gray-700 mb-3">Terima jasa pembuatan aplikasi web sederhana seperti kalkulator, dashboard, landing page, dan tools lainnya</p>
                            <div class="flex flex-wrap gap-1">
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">Kalkulator</span>
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">Dashboard</span>
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">Landing Page</span>
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs">Web Tools</span>
                            </div>
                        </div>
                        
                        <!-- Feedback -->
                        <div class="bg-white rounded-lg p-4 border border-green-300">
                            <h4 class="font-semibold text-green-800 mb-2 flex items-center">
                                <span class="mr-2">ğŸ’¬</span> Saran & Feedback
                            </h4>
                            <p class="text-gray-700 mb-3">Punya saran untuk perbaikan kalkulator ini? Atau request fitur baru? Komen di video YouTube!</p>
                            <a href="https://www.youtube.com/watch?v=-2YW_Urm_6U" 
                               target="_blank" 
                               class="inline-flex items-center space-x-1 bg-green-600 text-white px-3 py-1.5 rounded-md hover:bg-green-700 transition-colors duration-300 text-xs">
                                <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 12l4-4 4 4-1.4 1.4L12 10.8l-2.6 2.6L8 12z"/>
                                </svg>
                                <span>Komen di Video</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Main Calculator -->
            <div class="flex-1 space-y-6 lg:mr-80">
                <!-- E-bike Specifications -->
                <div class="bg-white rounded-lg shadow-lg p-6 border-l-4 border-ebike">
                    <h2 class="text-xl font-semibold text-gray-900 mb-4">ğŸ“‹ Spesifikasi E-bike</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Voltase Baterai (V)</label>
                            <input type="number" id="voltage" value="48" min="24" max="72" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ebike">
                            <div class="text-xs text-gray-600 mt-2 p-2 bg-gray-50 rounded">
                                <p class="font-medium text-gray-700 mb-1">ğŸ’¡ Apa itu Voltase?</p>
                                <p>Voltase adalah "kekuatan listrik" baterai e-bike Anda. Seperti tekanan air dalam selang - semakin tinggi voltase, semakin kuat tenaga motor. Biasanya: 36V (standar), 48V (sedang), 60V+ (kencang). Cek stiker di baterai atau buku manual.</p>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Kapasitas Baterai (Ah)</label>
                            <input type="number" id="capacity" value="10" min="5" max="50" step="0.1" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ebike">
                            <div class="text-xs text-gray-600 mt-2 p-2 bg-gray-50 rounded">
                                <p class="font-medium text-gray-700 mb-1">ğŸ’¡ Apa itu Kapasitas (Ah)?</p>
                                <p>Ah = Ampere Hour, artinya "berapa lama baterai bisa menyuplai listrik". Ibarat tangki bensin - semakin besar Ah, semakin jauh bisa jalan. Contoh: 10Ah (jarak pendek), 20Ah (jarak sedang), 30Ah+ (jarak jauh). Tertulis di baterai atau spesifikasi.</p>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Range per Charge (km)</label>
                            <input type="number" id="range" value="40" min="20" max="150" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ebike">
                            <div class="text-xs text-gray-600 mt-2 p-2 bg-gray-50 rounded">
                                <p class="font-medium text-gray-700 mb-1">ğŸ’¡ Apa itu Range?</p>
                                <p>Range = jarak tempuh sekali charge penuh. Seperti motor bensin dengan tangki penuh bisa berapa km. Biasanya tertulis di brosur (contoh: "60km sekali charge"). PENTING: ini jarak ideal - di praktik bisa lebih pendek tergantung jalanan dan cara berkendara.</p>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tarif Listrik (Rp/kWh)</label>
                            <input type="number" id="electricity_rate" value="1467" min="500" max="3000" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ebike">
                            <div class="text-xs text-gray-600 mt-2 p-2 bg-gray-50 rounded">
                                <p class="font-medium text-gray-700 mb-1">ğŸ’¡ Apa itu Tarif Listrik?</p>
                                <p>Ini harga listrik PLN per kWh (kilo Watt hour). Seperti harga bensin per liter, tapi untuk listrik. Cek tagihan listrik rumah Anda, biasanya tertulis "Rp/kWh". Standar PLN: Rp 1.467/kWh (2025). Kalau tidak tahu, pakai angka default ini.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Usage Pattern -->
                <div class="bg-white rounded-lg shadow-lg p-6 border-l-4 border-ebike">
                    <h2 class="text-xl font-semibold text-gray-900 mb-4">ğŸš— Pola Penggunaan</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Jarak Harian (km)</label>
                            <input type="number" id="daily_distance" value="20" min="1" max="200" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ebike">
                            <div class="text-xs text-gray-600 mt-2 p-2 bg-blue-50 rounded">
                                <p class="font-medium text-gray-700 mb-1">ğŸ’¡ Jarak yang Anda tempuh setiap hari</p>
                                <p>Contoh: rumah ke kantor PP = 15km, berarti total harian 30km. Atau rumah-pasar-sekolah-rumah = 25km. Hitung semua perjalanan dalam 1 hari, bukan sekali jalan saja.</p>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Hari Aktif per Minggu</label>
                            <input type="number" id="active_days" value="5" min="1" max="7" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ebike">
                            <div class="text-xs text-gray-600 mt-2 p-2 bg-blue-50 rounded">
                                <p class="font-medium text-gray-700 mb-1">ğŸ’¡ Berapa hari Anda pakai e-bike dalam seminggu?</p>
                                <p>Contoh: kerja Senin-Sabtu = 6 hari. Atau cuma weekdays = 5 hari. Kalau kadang libur atau WFH, kurangi jadi 4-5 hari. Ini untuk hitung biaya yang realistis.</p>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Mode Berkendara</label>
                            <select id="driving_mode" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ebike">
                                <option value="0.9" selected>Eco (90% efisiensi)</option>
                                <option value="0.8">Normal (80% efisiensi)</option>
                                <option value="0.7">Sport (70% efisiensi)</option>
                            </select>
                            <div class="text-xs text-gray-600 mt-2 p-2 bg-blue-50 rounded">
                                <p class="font-medium text-gray-700 mb-1">ğŸ’¡ Cara Anda berkendara sehari-hari</p>
                                <p><strong>Eco:</strong> Pelan-pelan, hemat baterai, cocok jarak jauh<br>
                                <strong>Normal:</strong> Standar, seimbang kecepatan & hemat<br>
                                <strong>Sport:</strong> Ngebut, boros baterai tapi cepat sampai</p>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Kondisi Medan</label>
                            <select id="terrain" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ebike">
                                <option value="1.0" selected>Datar (100%)</option>
                                <option value="1.2">Campuran (120%)</option>
                                <option value="1.5">Berbukit (150%)</option>
                            </select>
                            <div class="text-xs text-gray-600 mt-2 p-2 bg-blue-50 rounded">
                                <p class="font-medium text-gray-700 mb-1">ğŸ’¡ Seperti apa jalanan yang biasa Anda lewati?</p>
                                <p><strong>Datar:</strong> Jalan lurus, tidak ada tanjakan (hemat baterai)<br>
                                <strong>Campuran:</strong> Ada naik-turun, tapi tidak terlalu curam<br>
                                <strong>Berbukit:</strong> Banyak tanjakan curam (boros baterai)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ROI Analysis -->
                <div class="bg-white rounded-lg shadow-lg p-6 border-l-4 border-compare">
                    <h2 class="text-xl font-semibold text-gray-900 mb-4">ğŸ’° Analisis ROI & Balik Modal</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Harga Beli E-bike (Rp)</label>
                            <input type="number" id="ebike_price" value="15000000" min="5000000" max="50000000" step="100000" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-compare">
                            <div class="text-xs text-gray-600 mt-2 p-2 bg-purple-50 rounded">
                                <p class="font-medium text-gray-700 mb-1">ğŸ’¡ Total investasi awal untuk beli e-bike</p>
                                <p>Masukkan harga beli e-bike lengkap dengan aksesoris. Contoh: Rp 15.000.000 untuk e-bike kelas menengah, atau Rp 8.500.000 untuk entry level.</p>
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Biaya Bensin Motor per Minggu (Rp)</label>
                            <input type="number" id="weekly_fuel_cost" value="150000" min="50000" max="500000" step="5000" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-motor">
                            <div class="text-xs text-gray-600 mt-2 p-2 bg-red-50 rounded">
                                <p class="font-medium text-gray-700 mb-1">ğŸ’¡ Berapa Anda habiskan bensin motor sekarang?</p>
                                <p>Hitung total biaya bensin motor per minggu. Contoh: isi 3x @Rp 50.000 = Rp 150.000/minggu. Atau kalau isi harian Rp 20.000 x 7 = Rp 140.000/minggu.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cara Menghitung -->
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow-lg p-6 border-l-4 border-blue-500">
                    <button id="toggle-calculation" class="w-full text-left focus:outline-none group" onclick="toggleCalculationDetails()">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-semibold text-gray-900">ğŸ§® Cara Menghitung (Rumus yang Kami Pakai)</h2>
                            <div class="flex items-center space-x-2">
                                <span id="toggle-text" class="text-sm text-blue-600 font-medium">Klik untuk lihat detail</span>
                                <svg id="toggle-icon" class="w-5 h-5 text-blue-600 transform transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                        </div>
                    </button>
                    
                    <div id="calculation-details" class="hidden mt-4">
                        <p class="text-sm text-gray-600 mb-4">Penjelasan detail setiap langkah perhitungan dengan contoh menggunakan data default:</p>
                    
                    <div class="space-y-4">
                        <div class="bg-white p-4 rounded-lg border border-blue-200">
                            <h3 class="font-semibold text-blue-800 mb-3">1ï¸âƒ£ Menghitung Energi Baterai (kWh)</h3>
                            <div class="text-sm text-gray-700 space-y-2">
                                <p><strong>Rumus:</strong> <code class="bg-gray-100 px-2 py-1 rounded">Energi (kWh) = Voltase Ã— Kapasitas Ã· 1000</code></p>
                                
                                <div class="bg-blue-50 p-3 rounded border-l-4 border-blue-300">
                                    <p><strong>ğŸ“ Dari mana angkanya:</strong></p>
                                    <p>â€¢ <strong>Voltase (48V)</strong> = Input Anda di "Voltase Baterai"</p>
                                    <p>â€¢ <strong>Kapasitas (10Ah)</strong> = Input Anda di "Kapasitas Baterai"</p>
                                    <p>â€¢ <strong>Ã· 1000</strong> = Konversi dari Watt hour (Wh) ke kiloWatt hour (kWh)</p>
                                </div>
                                
                                <p><strong>Contoh Perhitungan:</strong></p>
                                <p><code class="bg-yellow-100 px-2 py-1 rounded">48V Ã— 10Ah Ã· 1000 = 0.48 kWh</code></p>
                                <p><strong>ğŸ’¡ Artinya:</strong> Baterai Anda bisa menyimpan 0.48 kWh energi listrik (seperti tangki bensin 0.48 liter)</p>
                            </div>
                        </div>

                        <div class="bg-white p-4 rounded-lg border border-blue-200">
                            <h3 class="font-semibold text-blue-800 mb-3">2ï¸âƒ£ Menghitung Biaya Charging</h3>
                            <div class="text-sm text-gray-700 space-y-2">
                                <p><strong>Rumus:</strong> <code class="bg-gray-100 px-2 py-1 rounded">Biaya = (Energi Ã· Efisiensi Charging) Ã— Tarif PLN</code></p>
                                
                                <div class="bg-blue-50 p-3 rounded border-l-4 border-blue-300">
                                    <p><strong>ğŸ“ Dari mana angkanya:</strong></p>
                                    <p>â€¢ <strong>Energi (0.48 kWh)</strong> = Hasil dari langkah 1</p>
                                    <p>â€¢ <strong>Efisiensi Charging (0.92 = 92%)</strong> = Standar industri (charger tidak 100% efisien)</p>
                                    <p>â€¢ <strong>Tarif PLN (Rp 1.467)</strong> = Input Anda di "Tarif Listrik"</p>
                                </div>
                                
                                <p><strong>Mengapa ada Efisiensi 92%?</strong></p>
                                <p class="text-xs bg-yellow-50 p-2 rounded border">Saat ngecas, tidak semua listrik dari PLN masuk ke baterai. Ada yang hilang jadi panas di charger (sekitar 8%). Jadi kalau baterai butuh 0.48 kWh, PLN harus supply 0.52 kWh.</p>
                                
                                <p><strong>Contoh Perhitungan:</strong></p>
                                <p><code class="bg-yellow-100 px-2 py-1 rounded">(0.48 Ã· 0.92) Ã— Rp 1.467 = 0.52 kWh Ã— Rp 1.467 = Rp 765</code></p>
                                <p><strong>ğŸ’¡ Artinya:</strong> Sekali ngecas full habis Rp 765 listrik</p>
                            </div>
                        </div>

                        <div class="bg-white p-4 rounded-lg border border-blue-200">
                            <h3 class="font-semibold text-blue-800 mb-3">3ï¸âƒ£ Menghitung Jarak Real (Praktis)</h3>
                            <div class="text-sm text-gray-700 space-y-2">
                                <p><strong>Rumus:</strong> <code class="bg-gray-100 px-2 py-1 rounded">Jarak Real = Range Ã— Efisiensi Mode Ã— (1 Ã· Faktor Medan)</code></p>
                                
                                <div class="bg-blue-50 p-3 rounded border-l-4 border-blue-300">
                                    <p><strong>ğŸ“ Dari mana angkanya:</strong></p>
                                    <p>â€¢ <strong>Range (40 km)</strong> = Input Anda di "Range per Charge" (jarak ideal pabrik)</p>
                                    <p>â€¢ <strong>Efisiensi Mode (0.9 = 90%)</strong> = Pilihan Anda di "Mode Berkendara"</p>
                                    <p>â€¢ <strong>Faktor Medan (1.0)</strong> = Pilihan Anda di "Kondisi Medan"</p>
                                </div>
                                
                                <p><strong>Mengapa jarak berkurang?</strong></p>
                                <div class="text-xs bg-yellow-50 p-2 rounded border space-y-1">
                                    <p>â€¢ <strong>Mode Eco (90%)</strong> = Hemat, tapi tetap ada loss 10%</p>
                                    <p>â€¢ <strong>Mode Normal (80%)</strong> = Standar, loss 20%</p>
                                    <p>â€¢ <strong>Mode Sport (70%)</strong> = Ngebut, boros 30%</p>
                                    <p>â€¢ <strong>Medan Datar (1.0x)</strong> = Normal</p>
                                    <p>â€¢ <strong>Medan Campuran (1.2x)</strong> = Baterai 20% lebih boros</p>
                                    <p>â€¢ <strong>Medan Berbukit (1.5x)</strong> = Baterai 50% lebih boros</p>
                                </div>
                                
                                <p><strong>Contoh Perhitungan:</strong></p>
                                <p><code class="bg-yellow-100 px-2 py-1 rounded">40 km Ã— 0.9 Ã— (1 Ã· 1.0) = 36 km real</code></p>
                                <p><strong>ğŸ’¡ Artinya:</strong> Yang tertulis 40km di brosur, praktiknya cuma 36km</p>
                            </div>
                        </div>

                        <div class="bg-white p-4 rounded-lg border border-blue-200">
                            <h3 class="font-semibold text-blue-800 mb-3">4ï¸âƒ£ Menghitung Biaya per km</h3>
                            <div class="text-sm text-gray-700 space-y-2">
                                <p><strong>Rumus:</strong> <code class="bg-gray-100 px-2 py-1 rounded">Biaya per km = Biaya Charge Ã· Jarak Real</code></p>
                                
                                <div class="bg-blue-50 p-3 rounded border-l-4 border-blue-300">
                                    <p><strong>ğŸ“ Dari mana angkanya:</strong></p>
                                    <p>â€¢ <strong>Biaya Charge (Rp 765)</strong> = Hasil dari langkah 2</p>
                                    <p>â€¢ <strong>Jarak Real (36 km)</strong> = Hasil dari langkah 3</p>
                                </div>
                                
                                <p><strong>Contoh Perhitungan:</strong></p>
                                <p><code class="bg-yellow-100 px-2 py-1 rounded">Rp 765 Ã· 36 km = Rp 21,26 per km</code></p>
                                <p><strong>ğŸ’¡ Artinya:</strong> Setiap 1 km jalan, biaya listrik Rp 21 (vs bensin motor ~Rp 500-800/km)</p>
                            </div>
                        </div>

                        <div class="bg-white p-4 rounded-lg border border-blue-200">
                            <h3 class="font-semibold text-blue-800 mb-3">5ï¸âƒ£ Menghitung Biaya Bulanan</h3>
                            <div class="text-sm text-gray-700 space-y-2">
                                <p><strong>Rumus:</strong> <code class="bg-gray-100 px-2 py-1 rounded">Biaya Bulanan = Biaya per km Ã— Jarak Harian Ã— Hari Aktif Ã— (52Ã·12)</code></p>
                                
                                <div class="bg-blue-50 p-3 rounded border-l-4 border-blue-300">
                                    <p><strong>ğŸ“ Dari mana angkanya:</strong></p>
                                    <p>â€¢ <strong>Biaya per km (Rp 21,26)</strong> = Hasil dari langkah 4</p>
                                    <p>â€¢ <strong>Jarak Harian (20 km)</strong> = Input Anda di "Jarak Harian"</p>
                                    <p>â€¢ <strong>Hari Aktif (5 hari)</strong> = Input Anda di "Hari Aktif per Minggu"</p>
                                    <p>â€¢ <strong>(52Ã·12 = 4.33)</strong> = Konversi minggu ke bulan (52 minggu/tahun Ã· 12 bulan)</p>
                                </div>
                                
                                <p><strong>Contoh Perhitungan:</strong></p>
                                <p><code class="bg-yellow-100 px-2 py-1 rounded">Rp 21,26 Ã— 20 km Ã— 5 hari Ã— 4.33 = Rp 9.213 per bulan</code></p>
                            </div>
                        </div>

                        <div class="bg-white p-4 rounded-lg border border-green-200">
                            <h3 class="font-semibold text-green-800 mb-3">6ï¸âƒ£ Menghitung ROI Balik Modal</h3>
                            <div class="text-sm text-gray-700 space-y-2">
                                <p><strong>Rumus:</strong> <code class="bg-gray-100 px-2 py-1 rounded">Waktu Balik Modal = Harga E-bike Ã· Penghematan per Bulan</code></p>
                                
                                <div class="bg-green-50 p-3 rounded border-l-4 border-green-300">
                                    <p><strong>ğŸ“ Dari mana angkanya:</strong></p>
                                    <p>â€¢ <strong>Harga E-bike (Rp 15.000.000)</strong> = Input Anda di "Harga Beli E-bike"</p>
                                    <p>â€¢ <strong>Biaya Motor per Bulan</strong> = Bensin per Minggu Ã— (52Ã·12) = Rp 150.000 Ã— 4.33 = Rp 650.000</p>
                                    <p>â€¢ <strong>Biaya E-bike per Bulan (Rp 9.213)</strong> = Hasil dari langkah 5</p>
                                    <p>â€¢ <strong>Penghematan</strong> = Rp 650.000 - Rp 9.213 = Rp 640.787 per bulan</p>
                                </div>
                                
                                <p><strong>Contoh Perhitungan:</strong></p>
                                <p><code class="bg-yellow-100 px-2 py-1 rounded">Rp 15.000.000 Ã· Rp 640.787 = 23.4 bulan</code></p>
                                <p><strong>ğŸ’¡ Artinya:</strong> Investasi e-bike balik modal dalam 23.4 bulan (hampir 2 tahun)</p>
                                
                                <div class="mt-3 p-2 bg-green-100 rounded border">
                                    <p class="font-medium text-green-800">ğŸ¯ Kesimpulan:</p>
                                    <p class="text-green-700">Setelah 2 tahun, Anda mulai untung bersih Rp 640.787 setiap bulan!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Debug Info -->
                <div class="bg-yellow-50 rounded-lg p-6 border border-yellow-200">
                    <h3 class="text-lg font-semibold text-yellow-800 mb-3">ğŸ” Debug Info (untuk cek perhitungan)</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <div>
                            <p><strong>Kapasitas Baterai:</strong> <span id="debug-capacity">-</span> kWh</p>
                            <p><strong>Efisiensi Charging:</strong> <span id="debug-charging">92%</span></p>
                            <p><strong>Efisiensi Mode:</strong> <span id="debug-mode">-</span>%</p>
                            <p><strong>Faktor Medan:</strong> <span id="debug-terrain">-</span></p>
                        </div>
                        <div>
                            <p><strong>Total Efisiensi:</strong> <span id="debug-total-eff">-</span>%</p>
                            <p><strong>Energi PLN:</strong> <span id="debug-energy-pln">-</span> kWh</p>
                            <p><strong>Range Real:</strong> <span id="debug-range-real">-</span> km</p>
                            <p><strong>Biaya per Charge:</strong> <span id="debug-cost-charge">-</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Fixed Results Sidebar for Desktop -->
            <div class="hidden lg:block fixed right-4 top-20 w-80 max-h-[85vh] overflow-y-auto z-10">
                <div class="bg-white rounded-lg shadow-xl p-6">
                    <h2 class="text-xl font-semibold text-gray-900 mb-4">ğŸ“Š Hasil Perhitungan</h2>
                    
                    <!-- E-bike Costs -->
                    <div class="mb-6">
                        <h3 class="font-semibold text-ebike mb-3">ğŸ’š Biaya E-bike</h3>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>Per Charge:</span>
                                <span id="cost-per-charge" class="font-semibold">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Per km:</span>
                                <span id="cost-per-km" class="font-semibold">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Per Hari:</span>
                                <span id="cost-daily" class="font-semibold">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Per Minggu:</span>
                                <span id="cost-weekly" class="font-semibold">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Per Bulan:</span>
                                <span id="cost-monthly" class="font-semibold">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Motor Costs -->
                    <div class="mb-6">
                        <h3 class="font-semibold text-motor mb-3">ğŸ”´ Biaya Motor Bensin</h3>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>Per Minggu:</span>
                                <span id="motor-weekly" class="font-semibold">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Per Bulan:</span>
                                <span id="motor-monthly" class="font-semibold">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- ROI Analysis -->
                    <div class="mb-6">
                        <h3 class="font-semibold text-compare mb-3">ğŸ“ˆ Analisis ROI</h3>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>Penghematan/Minggu:</span>
                                <span id="savings-weekly" class="font-semibold text-green-600">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Penghematan/Bulan:</span>
                                <span id="savings-monthly" class="font-semibold text-green-600">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Penghematan/Tahun:</span>
                                <span id="savings-yearly" class="font-semibold text-green-600">-</span>
                            </div>
                        </div>
                    </div>

                    <!-- Payback Period -->
                    <div class="mb-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200">
                        <h3 class="font-semibold text-green-800 mb-3">ğŸ’° Waktu Balik Modal</h3>
                        <div class="space-y-2 text-sm">
                            <div class="text-center">
                                <div class="text-2xl font-bold text-green-700" id="payback-months">-</div>
                                <div class="text-gray-600">bulan</div>
                            </div>
                            <div class="text-center text-xs text-gray-600 mt-2">
                                <span id="payback-years">-</span>
                            </div>
                            <div class="mt-3 p-2 bg-white rounded border text-xs">
                                <p class="font-medium text-gray-700">ğŸ’¡ Artinya:</p>
                                <p id="payback-explanation" class="text-gray-600">-</p>
                            </div>
                        </div>
                    </div>

                    <!-- Investment Summary -->
                    <div class="p-4 bg-blue-50 rounded-lg border border-blue-200">
                        <h4 class="font-semibold text-blue-800 mb-2">ğŸ“‹ Ringkasan Investasi</h4>
                        <div class="text-xs text-gray-700 space-y-1">
                            <div class="flex justify-between">
                                <span>Investasi Awal:</span>
                                <span id="investment-initial" class="font-semibold">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Total Hemat 5 Tahun:</span>
                                <span id="investment-5year" class="font-semibold text-green-600">-</span>
                            </div>
                            <div class="flex justify-between">
                                <span>ROI 5 Tahun:</span>
                                <span id="roi-5year" class="font-semibold text-blue-600">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Results (below main content) -->
        <div class="lg:hidden mt-8">
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">ğŸ“Š Hasil Perhitungan</h2>
                
                <!-- E-bike Costs -->
                <div class="mb-6">
                    <h3 class="font-semibold text-ebike mb-3">ğŸ’š Biaya E-bike</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span>Per Charge:</span>
                            <span id="cost-per-charge-mobile" class="font-semibold">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Per km:</span>
                            <span id="cost-per-km-mobile" class="font-semibold">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Per Hari:</span>
                            <span id="cost-daily-mobile" class="font-semibold">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Per Minggu:</span>
                            <span id="cost-weekly-mobile" class="font-semibold">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Per Bulan:</span>
                            <span id="cost-monthly-mobile" class="font-semibold">-</span>
                        </div>
                    </div>
                </div>

                <!-- Motor Costs -->
                <div class="mb-6">
                    <h3 class="font-semibold text-motor mb-3">ğŸ”´ Biaya Motor Bensin</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span>Per Minggu:</span>
                            <span id="motor-weekly-mobile" class="font-semibold">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Per Bulan:</span>
                            <span id="motor-monthly-mobile" class="font-semibold">-</span>
                        </div>
                    </div>
                </div>

                <!-- ROI Analysis -->
                <div class="mb-6">
                    <h3 class="font-semibold text-compare mb-3">ğŸ“ˆ Analisis ROI</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span>Penghematan/Minggu:</span>
                            <span id="savings-weekly-mobile" class="font-semibold text-green-600">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Penghematan/Bulan:</span>
                            <span id="savings-monthly-mobile" class="font-semibold text-green-600">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Penghematan/Tahun:</span>
                            <span id="savings-yearly-mobile" class="font-semibold text-green-600">-</span>
                        </div>
                    </div>
                </div>

                <!-- Payback Period Mobile -->
                <div class="p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200">
                    <h3 class="font-semibold text-green-800 mb-3">ğŸ’° Waktu Balik Modal</h3>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-green-700" id="payback-months-mobile">-</div>
                        <div class="text-gray-600">bulan</div>
                        <div class="text-xs text-gray-600 mt-1" id="payback-years-mobile">-</div>
                    </div>
                    <div class="mt-3 p-2 bg-white rounded border text-xs">
                        <p class="font-medium text-gray-700">ğŸ’¡ Artinya:</p>
                        <p id="payback-explanation-mobile" class="text-gray-600">-</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Credit -->
    <footer class="bg-white border-t-2 border-gray-200 mt-16">
        <div class="max-w-7xl mx-auto px-4 py-12">
            <div class="text-center">
                <!-- Developer Info -->
                <div class="flex flex-col md:flex-row items-center justify-center space-y-6 md:space-y-0 md:space-x-8">
                    <!-- Profile Photo -->
                    <div class="flex-shrink-0">
                        <img src="yusm4.jpeg" 
                             alt="Yusma Rahman" 
                             class="w-20 h-20 rounded-full border-4 border-blue-500 shadow-lg object-cover">
                    </div>
                    
                    <!-- Developer Details -->
                    <div class="text-center md:text-left">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Dibuat oleh Yusma Rahman</h3>
                        <p class="text-gray-600 mb-4 max-w-md">Developer & Content Creator yang fokus pada aplikasi web sederhana dan edukatif</p>
                        
                        <!-- Social Links -->
                        <div class="flex flex-wrap justify-center md:justify-start gap-4 mb-4">
                            <a href="https://www.instagram.com/yusmafrlnc/" 
                               target="_blank" 
                               class="flex items-center space-x-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                                </svg>
                                <span class="font-medium">@yusmafrlnc</span>
                            </a>
                            
                            <a href="https://www.linkedin.com/in/yusmarahman09" 
                               target="_blank" 
                               class="flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                                </svg>
                                <span class="font-medium">LinkedIn</span>
                            </a>
                            
                            <a href="https://www.youtube.com/@yusmarahman2269" 
                               target="_blank" 
                               class="flex items-center space-x-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                                </svg>
                                <span class="font-medium">YouTube</span>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Services & Feedback -->
                <div class="mt-8 pt-8 border-t border-gray-200">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-center">
                        <!-- Services -->
                        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200">
                            <h4 class="text-lg font-semibold text-blue-800 mb-3">ğŸ’¼ Jasa Pembuatan Aplikasi</h4>
                            <p class="text-gray-700 text-sm mb-4">Terima jasa pembuatan aplikasi web sederhana seperti kalkulator, dashboard, landing page, dan tools lainnya</p>
                            <div class="flex flex-wrap justify-center gap-2">
                                <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs">Kalkulator</span>
                                <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs">Dashboard</span>
                                <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs">Landing Page</span>
                                <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs">Web Tools</span>
                            </div>
                        </div>
                        
                        <!-- Feedback -->
                        <div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-6 border border-green-200">
                            <h4 class="text-lg font-semibold text-green-800 mb-3">ğŸ’¬ Saran & Feedback</h4>
                            <p class="text-gray-700 text-sm mb-4">Punya saran untuk perbaikan kalkulator ini? Atau request fitur baru? Komen di video YouTube!</p>
                            <a href="https://www.youtube.com/watch?v=-2YW_Urm_6U" 
                               target="_blank" 
                               class="inline-flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-300">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M8 12l4-4 4 4-1.4 1.4L12 10.8l-2.6 2.6L8 12z"/>
                                </svg>
                                <span class="font-medium">Komen di Video</span>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Copyright -->
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <p class="text-gray-500 text-sm">
                        Â© 2025 Yusma Rahman. Made with â¤ï¸ untuk membantu analisis investasi e-bike yang lebih baik
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Format currency in Indonesian Rupiah
        function formatCurrency(amount) {
            return new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0
            }).format(amount);
        }

        // Format number with thousand separators
        function formatNumber(num) {
            return new Intl.NumberFormat('id-ID').format(num);
        }

        // Safe get element by ID
        function safeSetContent(id, content) {
            const element = document.getElementById(id);
            if (element) {
                element.textContent = content;
            } else {
                console.warn(`Element with ID '${id}' not found`);
            }
        }

        // Calculate all costs and ROI
        function calculateAll() {
            try {
                // Get input values
                const voltage = parseFloat(document.getElementById('voltage').value) || 48;
                const capacity = parseFloat(document.getElementById('capacity').value) || 10;
                const range = parseFloat(document.getElementById('range').value) || 40;
                const electricityRate = parseFloat(document.getElementById('electricity_rate').value) || 1467;
                const dailyDistance = parseFloat(document.getElementById('daily_distance').value) || 20;
                const activeDays = parseInt(document.getElementById('active_days').value) || 5;
                const drivingMode = parseFloat(document.getElementById('driving_mode').value) || 0.9;
                const terrain = parseFloat(document.getElementById('terrain').value) || 1.0;
                const ebikePrice = parseFloat(document.getElementById('ebike_price').value) || 15000000;
                const weeklyFuelCost = parseFloat(document.getElementById('weekly_fuel_cost').value) || 150000;

                // Calculate battery energy
                const batteryEnergyWh = voltage * capacity;
                const batteryEnergyKwh = batteryEnergyWh / 1000;

                // Charging efficiency
                const chargingEfficiency = 0.92; // 92% charging efficiency
                
                // Energy needed from PLN (termasuk loss saat charging)
                const energyFromPLN = batteryEnergyKwh / chargingEfficiency;
                
                // Cost per charge (biaya charging dari PLN)
                const costPerCharge = energyFromPLN * electricityRate;
                
                // Real range setelah driving efficiency dan terrain
                const realRange = range * drivingMode * (1 / terrain);
                
                // Cost per km
                const costPerKm = costPerCharge / realRange;

                // Calculate daily, weekly, monthly costs
                const costDaily = costPerKm * dailyDistance;
                const costWeekly = costDaily * activeDays;
                const costMonthly = costWeekly * (52/12); // Rata-rata minggu per bulan

                // Motor costs
                const motorMonthly = weeklyFuelCost * (52/12);

                // Savings calculation
                const savingsWeekly = weeklyFuelCost - costWeekly;
                const savingsMonthly = motorMonthly - costMonthly;
                const savingsYearly = savingsMonthly * 12;

                // ROI and Payback calculation
                const paybackMonths = savingsMonthly > 0 ? ebikePrice / savingsMonthly : 0;
                const paybackYears = paybackMonths / 12;
                
                // 5-year savings and ROI
                const totalSavings5Year = savingsYearly * 5;
                const roi5Year = totalSavings5Year > 0 ? ((totalSavings5Year - ebikePrice) / ebikePrice) * 100 : 0;

                // Update debug info
                safeSetContent('debug-capacity', batteryEnergyKwh.toFixed(2));
                safeSetContent('debug-mode', (drivingMode * 100).toFixed(0));
                safeSetContent('debug-terrain', terrain.toFixed(1));
                safeSetContent('debug-total-eff', (chargingEfficiency * 100).toFixed(1));
                safeSetContent('debug-energy-pln', energyFromPLN.toFixed(3));
                safeSetContent('debug-range-real', realRange.toFixed(1));
                safeSetContent('debug-cost-charge', formatCurrency(costPerCharge));

                // Update displays (desktop)
                safeSetContent('cost-per-charge', formatCurrency(costPerCharge));
                safeSetContent('cost-per-km', formatCurrency(costPerKm));
                safeSetContent('cost-daily', formatCurrency(costDaily));
                safeSetContent('cost-weekly', formatCurrency(costWeekly));
                safeSetContent('cost-monthly', formatCurrency(costMonthly));
                
                safeSetContent('motor-weekly', formatCurrency(weeklyFuelCost));
                safeSetContent('motor-monthly', formatCurrency(motorMonthly));
                
                safeSetContent('savings-weekly', formatCurrency(savingsWeekly));
                safeSetContent('savings-monthly', formatCurrency(savingsMonthly));
                safeSetContent('savings-yearly', formatCurrency(savingsYearly));

                // Payback period
                if (paybackMonths > 0 && paybackMonths < 1000) {
                    safeSetContent('payback-months', paybackMonths.toFixed(1));
                    safeSetContent('payback-years', `(${paybackYears.toFixed(1)} tahun)`);
                    
                    let explanation = "";
                    if (paybackMonths <= 12) {
                        explanation = "Investasi sangat menguntungkan! Balik modal kurang dari 1 tahun.";
                    } else if (paybackMonths <= 24) {
                        explanation = "Investasi menguntungkan! Balik modal dalam 2 tahun.";
                    } else if (paybackMonths <= 36) {
                        explanation = "Investasi cukup baik, balik modal dalam 3 tahun.";
                    } else {
                        explanation = "Investasi jangka panjang, pertimbangkan faktor lain seperti kenyamanan.";
                    }
                    safeSetContent('payback-explanation', explanation);
                } else {
                    safeSetContent('payback-months', "âˆ");
                    safeSetContent('payback-years', "(tidak balik modal)");
                    safeSetContent('payback-explanation', "Biaya e-bike lebih mahal dari motor bensin. Pertimbangkan manfaat lingkungan dan kenyamanan.");
                }

                // Investment summary
                safeSetContent('investment-initial', formatCurrency(ebikePrice));
                safeSetContent('investment-5year', formatCurrency(totalSavings5Year));
                safeSetContent('roi-5year', roi5Year.toFixed(1) + '%');

                // Update displays (mobile)
                safeSetContent('cost-per-charge-mobile', formatCurrency(costPerCharge));
                safeSetContent('cost-per-km-mobile', formatCurrency(costPerKm));
                safeSetContent('cost-daily-mobile', formatCurrency(costDaily));
                safeSetContent('cost-weekly-mobile', formatCurrency(costWeekly));
                safeSetContent('cost-monthly-mobile', formatCurrency(costMonthly));
                
                safeSetContent('motor-weekly-mobile', formatCurrency(weeklyFuelCost));
                safeSetContent('motor-monthly-mobile', formatCurrency(motorMonthly));
                
                safeSetContent('savings-weekly-mobile', formatCurrency(savingsWeekly));
                safeSetContent('savings-monthly-mobile', formatCurrency(savingsMonthly));
                safeSetContent('savings-yearly-mobile', formatCurrency(savingsYearly));

                // Mobile payback
                if (paybackMonths > 0 && paybackMonths < 1000) {
                    safeSetContent('payback-months-mobile', paybackMonths.toFixed(1));
                    safeSetContent('payback-years-mobile', `(${paybackYears.toFixed(1)} tahun)`);
                    
                    let explanation = "";
                    if (paybackMonths <= 12) {
                        explanation = "Investasi sangat menguntungkan! Balik modal kurang dari 1 tahun.";
                    } else if (paybackMonths <= 24) {
                        explanation = "Investasi menguntungkan! Balik modal dalam 2 tahun.";
                    } else if (paybackMonths <= 36) {
                        explanation = "Investasi cukup baik, balik modal dalam 3 tahun.";
                    } else {
                        explanation = "Investasi jangka panjang, pertimbangkan faktor lain seperti kenyamanan.";
                    }
                    safeSetContent('payback-explanation-mobile', explanation);
                } else {
                    safeSetContent('payback-months-mobile', "âˆ");
                    safeSetContent('payback-years-mobile', "(tidak balik modal)");
                    safeSetContent('payback-explanation-mobile', "Biaya e-bike lebih mahal dari motor bensin. Pertimbangkan manfaat lingkungan dan kenyamanan.");
                }

                console.log("Calculation completed successfully!");
            } catch (error) {
                console.error("Error in calculation:", error);
            }
        }

        // Toggle developer info details
        function toggleDeveloperInfo() {
            const details = document.getElementById('developer-details');
            const icon = document.getElementById('dev-info-icon');
            
            if (details.classList.contains('hidden')) {
                // Show details
                details.classList.remove('hidden');
                icon.style.transform = 'rotate(180deg)';
            } else {
                // Hide details
                details.classList.add('hidden');
                icon.style.transform = 'rotate(0deg)';
            }
        }

        // Toggle calculation details
        function toggleCalculationDetails() {
            const details = document.getElementById('calculation-details');
            const icon = document.getElementById('toggle-icon');
            const text = document.getElementById('toggle-text');
            
            if (details.classList.contains('hidden')) {
                // Show details
                details.classList.remove('hidden');
                icon.style.transform = 'rotate(180deg)';
                text.textContent = 'Klik untuk sembunyikan';
            } else {
                // Hide details
                details.classList.add('hidden');
                icon.style.transform = 'rotate(0deg)';
                text.textContent = 'Klik untuk lihat detail';
            }
        }

        // Add event listeners for real-time calculation
        function initializeCalculator() {
            const inputs = [
                'voltage', 'capacity', 'range', 'electricity_rate',
                'daily_distance', 'active_days', 'driving_mode', 'terrain',
                'ebike_price', 'weekly_fuel_cost'
            ];

            inputs.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('input', calculateAll);
                    element.addEventListener('change', calculateAll);
                } else {
                    console.warn(`Input element with ID '${id}' not found`);
                }
            });

            // Initial calculation
            calculateAll();
        }

        // Wait for DOM to be fully loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeCalculator);
        } else {
            initializeCalculator();
        }
    </script>
</body>
</html>
